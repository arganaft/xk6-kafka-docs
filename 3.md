Ситуация классическая и крайне досадная: вы точно знаете, что пароль верный, но корпоративный прокси или Nexus/Artifactory упорно говорит «нет». В корпоративной среде проблема редко ограничивается просто опечаткой.

Давайте разберем наиболее вероятные причины, от простых к «хитрым».

---

### 1. Проблема "Не того settings.xml"

IntelliJ IDEA может игнорировать ваш глобальный файл настроек и использовать встроенный.

* **Что проверить:** Перейдите в `File` -> `Settings` -> `Build, Execution, Deployment` -> `Build Tools` -> `Maven`.
* **User settings file:** Убедитесь, что там указан путь именно к вашему файлу (обычно `~/.m2/settings.xml`), и стоит галочка **Override**.
* **Local repository:** Проверьте, что путь к репозиторию тоже корректен.

### 2. Зеркала (Mirrors) и ID серверов

Maven сопоставляет логин/пароль из секции `<servers>` с репозиторием через `<id>`.

* **Важно:** ID в секции `<server>` должен **символ в символ** совпадать с ID в секции `<mirror>` или `<repository>`.
* **Пример:**
```xml
<server>
  <id>central</id> <username>your_user</username>
  <password>your_password</password>
</server>

```



### 3. Спецсимволы в пароле

Если ваш корпоративный пароль содержит символы вроде `&`, `<`, `>`, `!`, Maven может неправильно их распарсить внутри XML.

* **Решение:** Попробуйте обернуть пароль в секцию CDATA:
`<password><![CDATA[P@ssword!123]]></password>`

### 4. Зашифрованные пароли (Maven Encryption)

В некоторых компаниях настроено шифрование паролей в `settings.xml`. Если вы просто вставили текст, а Maven ожидает расшифровки через `settings-security.xml`, будет ошибка 401.

* **Проверьте:** Нет ли у вас в папке `.m2` файла `settings-security.xml`. Если есть, пароль в `settings.xml` должен быть зашифрован (начинаться с `{...}`).

### 5. Конфликт кэша IntelliJ IDEA

Иногда IDEA «залипает» на старых учетных данных.

* **Действие:**
1. Закройте проект.
2. Удалите папку `.idea` в корне проекта.
3. В самом Maven-окне (справа) нажмите на иконку «обновить» (скрещенные стрелочки) с зажатым `Ctrl` (или просто выберите **Reload All Maven Projects**).



### 6. Проблема на уровне корпоративного Proxy

Если для выхода в интернет нужен прокси, ошибка 401 Unauthorized может прилетать не от репозитория, а от самого прокси-сервера.

* **Проверьте:** Прописана ли секция `<proxies>` в `settings.xml`.

---

### Как проверить, где именно ошибка?

Чтобы исключить влияние IntelliJ IDEA, попробуйте выполнить команду в терминале (в корне проекта):
`mvn clean install -U`

* **Если в терминале работает:** Проблема в настройках IDEA (пункты 1 и 5).
* **Если в терминале ТОЖЕ 401:** Проблема в `settings.xml` (пункты 2, 3 или 4) либо ваш аккаунт временно заблокирован из-за перебора паролей.

**Что из этого больше похоже на ваш случай?** Если терминал тоже выдает ошибку, пришлите (скрыв личные данные) структуру вашего `<server>` и `<mirror>` из `settings.xml`, я помогу проверить синтаксис.

-------------------------------------------------------------------------------------------------------------------------------------------------------

