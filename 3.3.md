Конечно. Класс `StreamViewConfig` будет выступать в роли **DTO (Data Transfer Object)**. Он нужен, чтобы Spring автоматически превратил JSON, который мы отправляем с фронтенда (из текстового поля `jsonConfig`), в Java-объект.

Вот пример реализации. Я добавил туда несколько полей, которые обычно используются для фильтрации сделок (тикеры, минимальный объем и т.д.).

### 1. Класс StreamViewConfig

Создай файл `StreamViewConfig.java` (например, в пакете `model` или `dto`).

```java
package com.websocket.trade.model;

import java.util.ArrayList;
import java.util.List;

/**
 * Класс конфигурации, который приходит от клиента через WebSocket.
 * Определяет, какие данные хочет получать пользователь.
 */
public class StreamViewConfig {

    private String requestId;       // Уникальный ID запроса (для отладки)
    private List<String> symbols;   // Список валютных пар, например ["BTCUSDT", "ETHUSDT"]
    private Double minAmount;       // Минимальный объем сделки для отображения (фильтр шума)

    // Конструктор по умолчанию (обязателен для Jackson/JSON парсера)
    public StreamViewConfig() {
        this.symbols = new ArrayList<>();
    }

    public StreamViewConfig(String requestId, List<String> symbols, Double minAmount) {
        this.requestId = requestId;
        this.symbols = symbols;
        this.minAmount = minAmount;
    }

    // --- Getters и Setters ---

    public String getRequestId() {
        return requestId;
    }

    public void setRequestId(String requestId) {
        this.requestId = requestId;
    }

    public List<String> getSymbols() {
        return symbols;
    }

    public void setSymbols(List<String> symbols) {
        this.symbols = symbols;
    }

    public Double getMinAmount() {
        return minAmount;
    }

    public void setMinAmount(Double minAmount) {
        this.minAmount = minAmount;
    }

    @Override
    public String toString() {
        return "StreamViewConfig{" +
                "requestId='" + requestId + '\'' +
                ", symbols=" + symbols +
                ", minAmount=" + minAmount +
                '}';
    }
}
```
*(Если ты используешь Lombok, можно просто повесить аннотацию `@Data` над классом и удалить геттеры/сеттеры).*

---

### 2. Как обновить контроллер (WebSocketController)

Теперь нужно убедиться, что твой контроллер принимает этот класс.

```java
package com.websocket.trade.controller;

import com.websocket.trade.model.StreamViewConfig;
import com.websocket.trade.service.TradeService;
import org.springframework.messaging.handler.annotation.MessageMapping;
import org.springframework.messaging.handler.annotation.Payload;
import org.springframework.messaging.simp.SimpMessageHeaderAccessor;
import org.springframework.stereotype.Controller;

import java.security.Principal;

@Controller
public class WebSocketController {

    private final TradeService tradeService;

    public WebSocketController(TradeService tradeService) {
        this.tradeService = tradeService;
    }

    /**
     * Клиент шлет сообщение на /app/config (префикс /app задан в конфиге WebSocket)
     */
    @MessageMapping("/config")
    public void configureStream(@Payload StreamViewConfig config, SimpMessageHeaderAccessor headerAccessor) {
        // Получаем ID сессии пользователя
        String sessionId = headerAccessor.getSessionId();
        
        System.out.println("Получен конфиг от клиента [" + sessionId + "]: " + config);

        // Передаем конфиг в сервис, чтобы он знал, что слать этому пользователю
        tradeService.registerUserSession(sessionId, config);
    }
}
```

---

### 3. Какой JSON теперь отправлять с Front-end

Теперь, когда у нас есть поля `symbols` и `minAmount`, обнови JSON на HTML-странице (в поле `textarea`), чтобы протестировать фильтрацию:

**Вариант 1: Хочу всё (пустой фильтр)**
```json
{
  "requestId": "req-1",
  "symbols": [],
  "minAmount": 0
}
```

**Вариант 2: Хочу только Биткоин и Эфир**
```json
{
  "requestId": "req-2",
  "symbols": ["BTCUSDT", "ETHUSDT"],
  "minAmount": 0
}
```

**Вариант 3: Хочу только крупные сделки (больше 1000 единиц)**
```json
{
  "requestId": "req-3",
  "symbols": [],
  "minAmount": 1000.0
}
```
